{% extends 'base.html' %}

{% block content %}
    <div class="row">
        <div class="col-lg-12">
            <div class="card tasks">
                <div class="card-header">
                    <h4>Scheduled Tasks Update</h4>
                </div>

                <div class="card-body">
                <h4>Basic</h4>
                    <div class="horizontal-form-elements">
                        <form class="form-horizontal" method="post">
                            {% if form.errors %}
                                 <div class="alert alert-danger alert-dismissable">
                                    <a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>
                                     <strong>{{ form.errors }}</strong>
                                 </div>
                            {% endif %}
                            {% csrf_token %}
                            <div class="row">
                                <div class="col-lg-9">
                                    <div class="form-group">
                                        <label for="id_name" class="col-sm-2 control-label">Name:</label>
                                        <div class="col-sm-7">
                                            {{ form.name }}
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="id_task" class="col-sm-2 control-label">Task (custom):</label>
                                        <div class="col-sm-7">
                                            {{ form.task }}
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="id_regtask" class="col-sm-2 control-label">Task (registered):</label>
                                        <div class="col-sm-7">
                                            {{ form.regtask }}
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="id_enabled" class="col-sm-2 control-label">
                                            Enabled:</label>
                                        <div class="col-sm-7">
                                            {{ form.enabled }}
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="id_description" class="col-sm-2 control-label">Description:</label>
                                        <div class="col-sm-7">
                                            {{ form.description }}
                                        </div>
                                    </div>
                                    <h4>Schedule</h4>
                                    <div class="form-group">
                                        <label for="id_interval" class="col-sm-2 control-label">Interval:</label>
                                        <div class="col-sm-7">
                                            {{ form.interval }}
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="id_crontab" class="col-sm-2 control-label">Crontab:</label>
                                        <div class="col-sm-7">
                                            {{ form.crontab }}
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="id_solar" class="col-sm-2 control-label">Solar:</label>
                                        <div class="col-sm-7">
                                            {{ form.solar }}
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="id_start_time" class="col-sm-2 control-label">Start_time:</label>
                                        <div class="col-sm-7">
                                            {{ form.start_time }}
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="id_enabled" class="col-sm-2 control-label">
                                            One off task:</label>
                                        <div class="col-sm-7">
                                            {{ form.one_off }}
                                        </div>
                                    </div>
                                    <div class="col-lg-9">
                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                                <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapse4" aria-expanded="true" class="">Arguments</a></h4>
                                            </div>
                                            <div id="collapse4" class="panel-collapse collapse">
                                                <div class="form-group">
                                                    <label for="id_args" class="col-sm-2 control-label">Arguments:</label>
                                                        <div class="col-sm-7">
                                                            {{ form.args }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="id_kwargs" class="col-sm-2 control-label">Keyword arguments:</label>
                                                        <div class="col-sm-7">
                                                            {{ form.kwargs }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-success" type="submit">提交</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block footjs %}
    <script>
        jQuery(document).ready(function () {
            $('#id_regtask').attr('class', 'form-control');
        })
    </script>
{% endblock %}